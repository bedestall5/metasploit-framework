# rt.jar must be in the classpath!

CLASSES = \
	Exploit.java  \
	MyPayload.java

.SUFFIXES: .java .class
.java.class:
	javac -source 1.2 -target 1.2 -cp "../../../../data/java:/Library/Java/JavaVirtualMachines/jdk1.7.0_06.jdk/Contents/Home/jre/lib/rt.jar" $*.java

all: $(CLASSES:.java=.class)

install:
	mv Exploit.class ../../../../data/exploits/cve-2012-5076/
	mv MyPayload.class ../../../../data/exploits/cve-2012-5076/

clean:
	rm -rf *.class
